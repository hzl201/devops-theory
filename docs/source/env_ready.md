### 环境准备

> 部署安装之前，你应该了解下每个模块的用途. 


**注意**

- 不同的服务器可选择性的部署服务
- 综合自动化服务单独部署（要求的环境必须是32位服务器）

**建议配置**

- 系统： windows server 2008 R2 X64
- CPU：  2Core+
- 内存：  8G+
- 磁盘：  >=50+


**准备基础环境**

> 基础环境需要用到以下服务。

- 建议版本
  - .NET4.0
  - Sql Server 2014 R2 X64
  - python2.7


`注意：
   不要安装32位MSSQL软件，32位的版本只能调用4G以下的内存。`


**调试网络**

需提前调试好煤矿的这些网络，实现服务器之间互联互通。
> 工业网（视频厂家硬盘录像机服务器、综合自动化厂家服务器）
> 生产网（安全监测厂家服务器、人员定位厂家服务器、束管监测厂家服务器）
> 办公室内网（应力与微震厂家服务器、水文监测厂家服务器）
> 集团公司与矿业公司的VPN专线（用于接通集团公司web服务器和数据库服务器）



**安装IIS服务**

> 用于搭建web平台。
`建议开发人员直接进行操作，创建web网站后默认使用80端口，第一次打开需要先注册。`

**安装服务器监测程序**

`直接复制ServerMonitorService程序目录到D盘，然后运行ServerMonitorService.exe主程序，选择好该服务器的用途并保存设置。`

**设置自动更新web代码脚本**
> 用于定期更新web网站的代码，这样每次开发人员提交修改后就能自动推送到生产环境服务器了。
`注意：
   要先在D盘新建upload目录，并拷贝wget.exe文件到C:\Windows\System32文件夹下，安装7z解压缩工具到c盘默认目录。`


**安装python环境**
> 用于搭建地质编录服务和安全巡检服务
> python版本2.7

**安装定时任务服务**
> 用于定期上报预警信息。

**安装定时诊断服务**
> 用于监测服务器的运行状态，如cpu、内存、硬盘的实时使用情况。

**安装进程监控服务**
> 用于自动重启监测监控接口程序和厂家转换接口程序。

**安装FTP服务**
> 用于接收监测厂家传输的数据

**安装监测监控数据接入服务**
> 用于读取安全监测、人员定位、束管、水文、应力和微震厂家数据和转发报警信息。

**安装综合诊断服务**

**安装帆软报表服务**
> 用于平台报表资料的填报

**安装三级预警服务**

**安装厂家数据转换服务（可选）**
> 用于将安全监测、人员定位、束管、水文、应力和微震厂家数据从厂家数据库中读取出来，按照龙软转换协议生成文件，
`注意：
    目前安全监测、人员定位厂家最多，接口程序稳定性也最好，水文厂家转换接口程序的稳定性一直不是很好。`